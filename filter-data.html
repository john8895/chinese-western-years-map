<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.js"></script>
</head>
<body>
<script>
    // $.ajax({
    //     url: "data.json",
    //     type: "GET",
    //     dataType: "json",
    //     success: function (Jdata) {
    //         // alert("SUCCESS!!!");
    //         console.log(Jdata);
    //
    //     },
    //
    //     error: function () {
    //         alert("ERROR!!!");
    //     }
    // });

    // $.ajax({
    //     url: 'data.json',
    //     type: 'get',
    //     dataType: 'json',
    //     success: Jdata => {
    //         console.log(Jdata);
    //
    //     }
    // })

</script>

<script>
    let oldData;
    let newData;

    getOldData();

    function getOldData() {
        $.ajax({
            url: 'data.json',
            type: 'get',
            dataType: 'json',
            success: dataHandle
        })
    }


    function dataHandle(Jdata) {

        oldData = Jdata;

        $.ajax({
            url: 'new-data.json',
            type: 'get',
            dataType: 'json',
            success: finalDataHandle
        })


        // Jdata.forEach(item => {
        //     let num = Number(item.west);
        //     if (num >= 1912) {
        //         item.taiwan = item.qing;
        //         item.qing = '';
        //     }
        // })
        // console.log(JSON.stringify(Jdata));
        // console.log(Jdata);
    }

    function finalDataHandle(JNewData) {
        newData = JNewData;
        let result={};
        // console.log(oldData);
        // console.log(newData);

        newData.forEach(item => {
            let num = Number(item.west)
            if (num > 1947) {
                // console.log(typeof oldData);
                result = result.push(item)
                // oldData.push = item
                // result =  oldData.concat(newData)
                // return result;
            }
        })

        console.log(result);


    }

</script>
</body>
</html>